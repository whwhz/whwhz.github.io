{"meta":{"title":"Whwhz","subtitle":null,"description":"å…‰å­•ä¼—ç”Ÿï¼Œä¼—ç”Ÿéšå½±ã€‚å…‰æ¶¤å¾é­‚ï¼Œå½±åº‡å¾ä½“ã€‚","author":"zwh","url":"http://example.com","root":"/"},"pages":[{"title":"about","date":"2020-02-12T14:14:36.000Z","updated":"2021-01-07T03:32:10.781Z","comments":false,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":"å§‘çš„å°å±‹ ä¸&nbsp; cungduafa&nbsp; ï¼ˆ çœŸï¼ˆã¾ï¼‰ç™½ï¼ˆã—ã‚ï¼‰ ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()"},{"title":"ç•™è¨€æ¿","date":"2020-04-21T12:17:58.000Z","updated":"2021-01-07T03:33:19.065Z","comments":true,"path":"conmment/index.html","permalink":"http://example.com/conmment/index.html","excerpt":"","text":"æœ‰ä»€ä¹ˆæƒ³è¯´çš„? æœ‰ä»€ä¹ˆæƒ³é—®çš„?"},{"title":"åˆ†ç±»","date":"2020-04-20T16:00:00.000Z","updated":"2021-01-07T03:31:41.535Z","comments":false,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"donate","date":"2020-02-13T15:13:05.000Z","updated":"2021-01-07T03:36:12.888Z","comments":false,"path":"donate/index.html","permalink":"http://example.com/donate/index.html","excerpt":"","text":""},{"title":"tags","date":"2020-02-13T12:24:16.000Z","updated":"2021-01-07T03:31:54.960Z","comments":false,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"23ç§è®¾è®¡æ¨¡å¼","slug":"23ç§è®¾è®¡æ¨¡å¼","date":"2021-03-02T09:48:39.000Z","updated":"2021-03-11T09:03:40.251Z","comments":true,"path":"post/35294.html","link":"","permalink":"http://example.com/post/35294.html","excerpt":"","text":"è®¾è®¡æ¨¡å¼å…­å¤§åŸåˆ™ï¼š1)å•ä¸€èŒè´£åŸåˆ™ï¼›2ï¼‰é‡Œæ°ä»£æ¢åŸåˆ™ï¼›3ï¼‰ä¾èµ–å€’ç½®åŸåˆ™ï¼›4ï¼‰æ¥å£ éš”ç¦»åŸåˆ™ï¼›5ï¼‰è¿ªç±³ç‰¹åŸåˆ™ï¼›6ï¼‰å¼€é—­åŸåˆ™ã€‚ åˆ›å»ºå‹æ¨¡å¼: ç”¨äºåˆ›å»ºå¯¹è±¡, ä¸ºè®¾è®¡ç±»å®ç°æ–°å¯¹è±¡, å¯¹å¯¹è±¡å®ä¾‹åŒ–è¿‡ç¨‹çš„æŠ½è±¡ï¼Œé€šè¿‡é‡‡ç”¨æŠ½è±¡ç±»æ‰€å®šä¹‰çš„æ¥å£ï¼Œå°è£…äº†ç³»ç»Ÿä¸­å¯¹è±¡å¦‚ä½•åˆ›å»ºã€ç»„åˆç­‰ä¿¡æ¯ æŠ½è±¡å·¥å‚æ¨¡å¼ (Abstract Factory) æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–è€…ç›¸ä¾èµ–å¯¹è±¡çš„æ¥å£, è€Œæ— éœ€æŒ‡å®šä»–ä»¬å…·ä½“çš„ç±» æ„å»ºå™¨/å»ºé€ è€…æ¨¡å¼ (Builder) å°†ä¸€ä¸ªå¤æ‚çš„å¯¹è±¡çš„æ„å»ºå’Œå®ƒçš„è¡¨ç¤ºç›¸åˆ†ç¦», ä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›é€ ä¸åŒçš„è¡¨ç¤º, å¥½å¤„æ˜¯ä½¿ç”¨å»ºé€ è€…æ¨¡å¼å¯ä»¥ä½¿å®¢æˆ·ç«¯ä¸å¿…çŸ¥é“äº§å“å†…éƒ¨ç»„æˆçš„ç»†èŠ‚, å…·ä½“çš„å»ºé€ è€…ç±»æ˜¯ç›¸å¯¹ç‹¬ç«‹çš„, å¯¹ç³»ç»Ÿçš„æ‰©å±•éå¸¸æœ‰åˆ©, ç”±äºå…·ä½“çš„å»ºé€ è€…æ˜¯ç‹¬ç«‹çš„å› æ­¤å¯ä»¥å¯¹å»ºé€ è¿‡ç¨‹é€æ­¥ç»†åŒ–, è€Œä¸å¯¹å…¶ä»–æ¨¡å—äº§ç”Ÿä»»ä½•å½±å“ å·¥å‚æ–¹æ³•æ¨¡å¼ (Factory) å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡(äº§å“)çš„æ¥å£, è®©å­ç±»å†³å®šå°†å“ªä¸€ä¸ªå®ä¾‹åŒ–, å·¥å‚æ¨¡å¼ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚ä¼˜ç‚¹: 1) æ²¡æœ‰äº†å°†åº”ç”¨ç¨‹åºç±»ç»‘å®šåˆ°ä»£ç ä¸­çš„è¦æ±‚ï¼Œä»£ç åªå¤„ç†æ¥å£ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä»»ä½•å®ç°äº†æ¥å£çš„ç±»ï¼›2ï¼‰å…è®¸å­ç±»æä¾›å¯¹è±¡çš„æ‰©å±•ç‰ˆæœ¬ï¼›3ï¼‰ç¬¦åˆè¿ªç±³ç‰¹æ³•åˆ™ï¼Œç¬¦åˆä¾èµ–å€’ç½®åŸåˆ™ï¼Œç¬¦åˆé‡Œæ°æ›¿æ¢åŸåˆ™ã€‚ åŸå‹æ¨¡å¼ (Prototype) ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±», å¹¶ä¸”é€šè¿‡æ‹·è´è¿™ä¸ªåŸå‹ç”¨æ¥åˆ›å»ºæ–°çš„å¯¹è±¡, ä»¥ä¸€ä¸ªå·²æœ‰çš„å¯¹è±¡æœ€ä¸ºåŸå‹, é€šè¿‡å®ƒæ¥åˆ›å»ºæ–°çš„å¯¹è±¡ å•ä¾‹æ¨¡å¼ (Singleton) ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹, å¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹, ä¼˜ç‚¹ï¼š1ï¼‰å¯¹å•ä¸ªå®ä¾‹çš„å—æ§åˆ¶è®¿é—®ï¼›2ï¼‰åç§°ç©ºé—´å‡å°‘ï¼›3ï¼‰å…è®¸æ”¹è¿›æ“ä½œå’Œè¡¨ç¤ºï¼› 4ï¼‰å…è®¸å¯å˜æ•°ç›®çš„å®ä¾‹ï¼›5ï¼‰æ¯”ç±»æ“ä½œæ›´çµæ´», ç¼ºç‚¹ï¼šå•ä¾‹ç±»çš„æ‰©å±•æœ‰å¾ˆå¤§çš„å›°éš¾ã€‚ä¸”èŒè´£è¿‡é‡ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šè¿èƒŒäº†â€œå•ä¸€èŒè´£ åŸåˆ™â€ ç»“æ„å‹æ¨¡å¼: å¤„ç†ç±»æˆ–å¯¹è±¡çš„ç»„åˆä»¥æ´»çš„æ›´å¤§çš„ç»“æ„, å®ƒé‡‡ç”¨ç»§æ‰¿æœºåˆ¶æ¥ç»„åˆæ¥å£æˆ–å®ç°ï¼Œä»¥æä¾›ç»Ÿä¸€çš„å¤–éƒ¨è§†å›¾æˆ–æ–°çš„åŠŸèƒ½ é€‚é…å™¨æ¨¡å¼ (Adapter) å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ï¼ŒAdapter æ¨¡å¼ä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»ã€‚ä¼˜ç‚¹ï¼š1ï¼‰å…è®¸ä¸¤ä¸ªæˆ–å¤šä¸ªä¸å…¼å®¹çš„å¯¹è±¡è¿›è¡Œäº¤äº’å’Œé€šä¿¡ï¼›2ï¼‰æé«˜å·²æœ‰åŠŸèƒ½çš„é‡å¤ ä½¿ç”¨æ€§ï¼›3ï¼‰å¢åŠ äº†ç±»çš„é€æ˜åº¦ï¼›4ï¼‰çµæ´»æ€§å¥½ã€‚ç¼ºç‚¹ï¼šè¿‡å¤šåœ°ä½¿ç”¨é€‚é…å™¨ï¼Œä¼šè®©ç³»ç»Ÿéå¸¸é›¶ä¹±ï¼Œä¸æ˜“æ•´ä½“è¿›è¡ŒæŠŠæ¡ æ¡¥æ¥æ¨¡å¼ (Birdge) å°†æŠ½è±¡éƒ¨åˆ†å’Œå®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦», å°†ä¸€ä¸ªè¾…åŠ©çš„ç»„ä»¶åˆ†æˆä¸¤ä¸ªç‹¬ç«‹çš„ä½†åˆç›¸å…³çš„ç»§æ‰¿å±‚æ¬¡ç»“æ„ï¼šåŠŸèƒ½æ€§çš„æŠ½è±¡å’Œå†…éƒ¨å®ç° ç»„åˆæ¨¡å¼ (Composite) å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚ä¼˜ç‚¹ï¼š1ï¼‰æ¸…æ¥šåœ°å®šä¹‰åˆ†å±‚æ¬¡çš„å¤æ‚å¯¹è±¡ï¼Œè¡¨ç¤ºå¯¹è±¡çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å±‚æ¬¡ï¼›2ï¼‰ä½¿å¾—å¢åŠ æ–°æ„ä»¶ä¹Ÿæ›´å®¹æ˜“ï¼›3ï¼‰æé«˜äº†ç»“æ„çš„çµæ´»æ€§å’Œå¯ç®¡ç†çš„æ¥å£ã€‚ç¼ºç‚¹ï¼šä½¿è®¾è®¡å˜å¾—æ›´åŠ æŠ½è±¡ï¼Œå¯¹è±¡çš„ä¸šåŠ¡è§„åˆ™å¦‚æœå¾ˆå¤æ‚ï¼Œåˆ™å®ç°ç»„åˆæ¨¡å¼å…·æœ‰å¾ˆå¤§æŒ‘æˆ˜æ€§ï¼Œè€Œä¸”ä¸æ˜¯æ‰€æœ‰çš„æ–¹æ³•éƒ½ä¸å¶å­å¯¹è±¡å­ç±»éƒ½æœ‰å…³è”ã€‚ è£…é¥°æ¨¡å¼ (Decorate) åŠ¨æ€çš„ç»™å¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„è´£ä»»ï¼Œå°±å¢åŠ åŠŸèƒ½æ¥è¯´ï¼Œè£…é¥°æ¯”ç”Ÿæˆå­ç±»æ›´ä¸ºçµæ´»ã€‚æ˜¯ä¸æ”¹å˜åŸç±»æ–‡ä»¶å’Œä½¿ç”¨ç»§æ‰¿çš„æƒ…å†µä¸‹, åŠ¨æ€åœ°æ‰©å±•ä¸€ä¸ªå¯¹è±¡çš„åŠŸèƒ½ å¤–è§‚æ¨¡å¼ (Facade) ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢, å¤–è§‚æ¨¡å¼é€šè¿‡æä¾›ä¸€ä¸ªé«˜å±‚æ¥å£, éš”ç¦»äº†å¤–éƒ¨ç³»ç»Ÿä¸å­ç³»ç»Ÿä¹‹é—´å¤æ‚çš„äº¤äº’è¿‡ç¨‹, ä½¿å¾—å¤æ‚ç³»ç»Ÿçš„å­ç³»ç»Ÿæ›´æ˜“ä½¿ç”¨ä¼˜ç‚¹ï¼š1ï¼‰åœ¨ä¸å‡å°‘ç³»ç»Ÿæ‰€æä¾›çš„é€‰é¡¹çš„æƒ…å†µä¸‹ï¼Œä¸ºå¤æ‚ç³»ç»Ÿæä¾›äº†ç®€å•çš„æ¥å£ï¼›2ï¼‰ å¯¹å®¢æˆ·ç«¯å±è”½äº†å­ç³»ç»Ÿç»„ä»¶ï¼›3ï¼‰æé«˜äº†å­ç³»ç»Ÿä¸å…¶å®¢æˆ·ç«¯ä¹‹é—´çš„å¼±è€¦åˆåº¦ï¼›4ï¼‰å°†å®¢æˆ·ç«¯è¯·æ±‚è½¬æ¢åå‘é€ç»™èƒ½å¤Ÿå¤„ç†è¿™äº›è¯·æ±‚çš„å­ç³»ç»Ÿã€‚ç¼ºç‚¹ï¼š 1ï¼‰ä¸èƒ½å¾ˆå¥½åœ°é™åˆ¶å®¢æˆ·ä½¿ç”¨å­ç³»ç»Ÿç±»ï¼Œå¦‚æœå¯¹å®¢æˆ·è®¿é—®å­ç³»ç»Ÿç±»åšå¤ªå¤šçš„ é™åˆ¶åˆ™å‡å°‘äº†å¯å˜æ€§å’Œçµæ´»æ€§ï¼›2ï¼‰åœ¨ä¸å¼•å…¥æŠ½è±¡å¤–è§‚ç±»çš„æƒ…å†µä¸‹ï¼Œå¢åŠ æ–°çš„å­ç³»ç»Ÿå¯èƒ½éœ€è¦ä¿®æ”¹å¤–è§‚ç±»æˆ–å®¢æˆ·ç«¯çš„æºä»£ç ï¼Œè¿èƒŒäº†â€œå¼€é—­åŸåˆ™â€ã€‚ äº«å…ƒæ¨¡å¼ (Flyweight) è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆçš„æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡, äº«å…ƒæ¨¡å¼ä½¿ç³»ç»Ÿä½¿ç”¨å°‘é‡çš„å¯¹è±¡, è€Œè¿™äº›å¯¹è±¡éƒ½å¾ˆç›¸ä¼¼çŠ¶æ€å˜åŒ–å¾ˆå°, å¯ä»¥å®ç°å¯¹è±¡çš„å¤šæ¬¡å¤ç”¨, åˆç§°ä¸ºè½»é‡çº§æ¨¡å¼, é€šè¿‡äº«å…ƒæ¨¡å¼å®ç°ç›¸åŒæˆ–ç›¸ä¼¼å¯¹è±¡çš„è°ƒç”¨ ä»£ç†æ¨¡å¼ (Proxy) ä¸ºæ§åˆ¶å¯¹åˆå§‹å¯¹è±¡çš„è®¿é—®æä¾›äº†ä¸€ä¸ªä»£ç†æˆ–è€…å ä½ç¬¦å¯¹è±¡,å±è”½ç”¨æˆ·å¯¹çœŸå®å¯¹è±¡çš„è®¿é—®ä¼˜ç‚¹ï¼š1ï¼‰è¿œç¨‹ä»£ç†å¯ä»¥éšè—å¯¹è±¡ä½äºä¸åŒçš„åœ°å€ç©ºé—´çš„äº‹å®ï¼›2ï¼‰è™šæ‹Ÿä»£ç†å¯ä»¥æ‰§ è¡Œä¼˜åŒ–æ“ä½œã€‚ç¼ºç‚¹ï¼š1ï¼‰è¯·æ±‚çš„å¤„ç†é€Ÿåº¦å˜æ…¢ï¼›2ï¼‰å®ç°ä»£ç†æ¨¡å¼éœ€è¦é¢å¤–çš„å·¥ä½œï¼Œä»è€Œå¢åŠ äº†ç³» ç»Ÿå®ç°çš„å¤æ‚åº¦ è¡Œä¸ºå‹æ¨¡å¼: æè¿°ç±»ä¸å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ¨¡å¼æ€æ ·è¿›è¡Œäº¤äº’ä»¥åŠå¦‚ä½•åˆ†é…èŒè´£ è´£ä»»é“¾æ¨¡å¼ (Chain of Responsibility) é¿å…è¯·æ±‚å‘é€è€…å’Œæ¥å—è€…è€¦åˆåœ¨ä¸€èµ·, è®©å¤šä¸ªå¯¹è±¡éƒ½æœ‰å¯èƒ½æ¥å—è¯·æ±‚, å°†è¿™äº›å¯¹è±¡è¿æ¥æˆä¸€æ¡é“¾, å¹¶ä¸”æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯·æ±‚ç›´åˆ°æœ‰å¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢, ä¼˜ç‚¹: é™ä½è€¦åˆåº¦ï¼›2ï¼‰å¢åŠ å‘å¯¹è±¡æŒ‡å®šè´£ä»»çš„çµæ´»æ€§ å‘½ä»¤æ¨¡å¼ (Command) åœ¨å¯¹è±¡ä¸­å°è£…è¯·æ±‚, ä»è€Œä½¿å¾—ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–, å¯¹è¯·æ±‚æ’é˜Ÿæˆ–è€…è®°å½•è¯·æ±‚æ—¥å¿—, ä»¥åŠæ”¯æŒå¯æ’¤é”€çš„æ“ä½œ, å°†å‘é€å‘½ä»¤çš„è´£ä»»å’Œæ‰§è¡Œå‘½ä»¤çš„è´£ä»»åˆ†å‰²å¼€, è¯·æ±‚çš„ä¸€æ–¹ä¸å¿…çŸ¥é“æ¥æ”¶ä¸€æ–¹çš„æ¥å£, ä¹Ÿä¸å¿…çŸ¥é“è¯·æ±‚æ€æ ·è¢«æ¥æ”¶, æ“ä½œæ˜¯å¦å¯è¡Œ, æ€æ ·è¢«æ‰§è¡Œç­‰ è§£é‡Šå™¨æ¨¡å¼ (Interpreter) è§£é‡Šå™¨æ¨¡å¼å±äºç±»çš„è¡Œä¸ºæ¨¡å¼, æè¿°äº†å¦‚ä½•ä¸ºè¯­è¨€å®šä¹‰ä¸€ä¸ªæ–¹æ³•, å¦‚ä½•åœ¨è¯¥è¯­è¨€ä¸­è¡¨ç¤ºä¸€ä¸ªå¥å­, ä»¥åŠå¦‚ä½•è§£é‡Šè¿™äº›å¥å­, è¿™é‡Œçš„è¯­è¨€æŒ‡å®šè§„æ ¼æ ¼å¼å’Œè¯­æ³•çš„ä»£ç , å®¹æ˜“, ä¿®æ”¹å¹¶æ‰©å±•è¯­æ³•; è¿­ä»£å™¨æ¨¡å¼ (Iterator): æä¾›ä¸€ç§æ–¹æ³•é¡ºåºçš„è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ , è€Œåˆä¸æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤º, è¿­ä»£å™¨æ¨¡å¼æ”¯æŒä»¥ä¸åŒçš„æ–¹å¼éå†ä¸€ä¸ªèšåˆå¯¹è±¡; ä¼˜ç‚¹ï¼š1ï¼‰æ”¯æŒé›†åˆçš„ä¸åŒéå†ï¼›2ï¼‰ç®€åŒ–é›†åˆæ¥å£ å¤‡å¿˜å½•æ¨¡å¼ (Memento) åœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹æ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€, å¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜çŠ¶æ€çš„ â€œå¿«ç…§â€, åœ¨ä¸å‘å¤–ç•Œå…¬å¼€å…¶å†…å®¹çš„æƒ…å†µä¸‹, æ¢å¤åˆ°å®ƒçš„æœ€åˆçŠ¶æ€ã€‚ ï¼ˆ1ï¼‰ä¼˜ç‚¹ï¼š1ï¼‰ä¿æŒå°è£…å®Œæ•´ï¼›2ï¼‰ç®€åŒ–äº†è¿”å›åˆ°åˆå§‹çŠ¶æ€æ‰€éœ€çš„æ“ä½œã€‚ è§‚å¯Ÿè€…æ¨¡å¼ (Observe) å®šä¹‰äº†å¯¹è±¡é—´ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³», ä½¿å¾—æ¯å½“ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜, åˆ™æ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°, å‘ç”Ÿæ”¹å˜çš„å¯¹è±¡æˆä¸ºè§‚å¯Ÿç›®æ ‡, é€šçŸ¥çš„å¯¹è±¡æˆä¸ºè§‚å¯Ÿè€…, ä¸€ä¸ªè§‚å¯Ÿç›®æ ‡å®¢æºå¯¹åº”å¯¹ä¸ªè§‚å¯Ÿè€…; ä¸ºç»„ä»¶å‘ç›¸å…³æ¥æ”¶æ–¹å¹¿æ’­æ¶ˆæ¯æä¾›äº†çµæ´»çš„æ–¹æ³• çŠ¶æ€æ¨¡å¼ (State) å¯¹äºå¯¹è±¡å†…éƒ¨çš„çŠ¶æ€, å…è®¸åœ¨å…¶ä¸åŒçš„çŠ¶æ€ä¸‹, æ‹¥æœ‰ä¸åŒçš„è¡Œä¸ºå¯¹çŠ¶æ€å•ç‹¬å°è£…æˆç±», å…è®¸å¯¹è±¡åœ¨å†…éƒ¨çŠ¶æ€å˜åŒ–æ—¶ï¼Œå˜æ›´å…¶è¡Œä¸ºï¼Œå¹¶ä¸”ä¿®æ”¹å…¶ç±», å®šä½æŒ‡å®šçŠ¶æ€çš„è¡Œä¸ºï¼Œå¹¶æ ¹æ®ä¸åŒçŠ¶æ€æ¥åˆ’åˆ†è¡Œä¸º ç­–ç•¥æ¨¡å¼ (Strategy) å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•å¹¶å°†æ¯ä¸ªç®—æ³•å°è£…èµ·æ¥, å¹¶è®©å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢, è®©ç®—æ³•ç‹¬ç«‹äºä½¿ç”¨å®ƒçš„å®¢æˆ·è€Œå˜åŒ–, å…¶ç›®çš„æ˜¯å°†è¡Œä¸ºå’Œç¯å¢ƒç›¸åˆ†ç¦», å½“å‡ºç°æ–°çš„è¡Œä¸ºæ—¶, åªè¦å®ç°æ–°çš„ç­–ç•¥ç±»; ä¼˜ç‚¹ï¼š1ï¼‰å¦ä¸€ç§å­ç±»åŒ–æ–¹æ³•ï¼›2ï¼‰åœ¨ç±»è‡ªèº«ä¸­å®šä¹‰è¡Œä¸ºï¼Œå‡å°‘æ¡ä»¶è¯­å¥ï¼›3ï¼‰æ›´å®¹æ˜“æ‰©å±•æ¨¡å‹ æ¨¡æ¿æ–¹æ³•æ¨¡å¼ (Template Method) å®šä¹‰äº†ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶, ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡æ–°å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤, åœ¨çˆ¶ç±»ä¸­å®šä¹‰ä¸€ä¸ªå®Œæˆè¯¥äº‹æƒ…çš„æ€»æ–¹æ³•, æŒ‰ç…§å®Œæˆäº‹ä»¶éœ€è¦çš„æ­¥éª¤å»è°ƒç”¨æ¯ä¸ªæ­¥éª¤çš„å®ç°æ–¹æ³•, æ¯ä¸ªæ­¥éª¤çš„å…·ä½“å®ç°ç”±å­ç±»å®Œæˆ è®¿é—®è€…æ¨¡å¼ (Visitor) è¡¨ç¤ºä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­å„å…ƒç´ çš„æ“ä½œ,ä½¿å¾—åœ¨ä¸æ”¹å˜å„å…ƒç´ ç±»çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œ, å³å¯¹äºæŸä¸ªå¯¹è±¡æˆ–ä¸€ç»„å¯¹è±¡ä¸åŒçš„è®¿é—®è€…äº§ç”Ÿçš„ç»“æœä¸åŒæ‰§è¡Œæ“ä½œä¹Ÿä¸åŒ, å®šä¹‰äº†å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ç»„åˆå…³ç³»ï¼Œä»¥ä¾¿ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨åˆ·æ–° ä¸­ä»‹è€…æ¨¡å¼ (Mediater) é€šè¿‡å¼•å…¥ä¸€ä¸ªèƒ½å¤Ÿç®¡ç†å¯¹è±¡é—´æ¶ˆæ¯åˆ†å¸ƒçš„å¯¹è±¡, ç®€åŒ–äº†ç³»ç»Ÿä¸­å¯¹è±¡çš„é€šä¿¡ã€‚é€šè¿‡ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’, ä¸­ä»‹è€…ä½¿å¾—å„å¯¹è±¡ä¸éœ€è¦ç°å®çš„è¿›è¡Œäº¤äº’, ä»è€Œä½¿è€¦åˆæ¾æ•£, è€Œä¸”ä¸å¯ä»¥ç‹¬ç«‹çš„æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’, ä¸­ä»‹è€…å¯¹è±¡çš„å­˜åœ¨ä¿è¯äº†å¯¹è±¡ç»“æ„ä¸Šçš„ç¨³å®š, ä¹Ÿå°±æ˜¯è¯´ç³»ç»Ÿçš„ç»“æ„ä¸ä¼šå› ä¸ºæ–°å¯¹è±¡çš„å¼•å…¥å¸¦æ¥å¤§é‡çš„ä¿®æ”¹ ï¼ˆ1ï¼‰ä¼˜ç‚¹ï¼š1ï¼‰å»é™¤å¯¹è±¡é—´å½±å“ï¼›2ï¼‰ç®€åŒ–å¯¹è±¡é—´åè®®ï¼›3ï¼‰é›†ä¸­åŒ–äº†æ§åˆ¶","categories":[],"tags":[{"name":"æ¶æ„è®¾è®¡å¸ˆ","slug":"æ¶æ„è®¾è®¡å¸ˆ","permalink":"http://example.com/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88/"}]},{"title":"è‰¯å¿ƒ(ç™½å«–)ç½‘ç«™æ”¶é›†","slug":"è‰¯å¿ƒç½‘ç«™æ”¶é›†","date":"2021-02-22T02:00:27.000Z","updated":"2021-02-24T02:52:06.348Z","comments":true,"path":"post/46212.html","link":"","permalink":"http://example.com/post/46212.html","excerpt":"","text":"æœ¬æ–‡æ”¶é›†ä¸€äº›è‰¯å¿ƒå¥½ç«™, å„ç§ç™½å«–èµ„æº, æŒç»­æ›´æ–°(èµ„æºæ¥æºä¸º b ç«™å’Œè®ºå›)å£çº¸ wallhaven Wallpaper Abyss ä»¥ä¸Šæˆªæ­¢ç›®å‰å‡ä¸ºå…è´¹ä¸‹è½½, å›¾ç‰‡è´¨é‡è¾ƒé«˜å¹¶ä¸”æœ‰ä¸åŒåˆ†è¾¨ç‡æ‰‹æœº PC å£çº¸å¯ä¾›é€‰æ‹©, éœ€è¦è‹±æ–‡æ£€ç´¢, è€Œä¸”äºæ˜¯å›½å¤–ç½‘ç«™è®¿é—®é€Ÿåº¦æœ‰é™, ä¸‹é¢æ˜¯å›½å†…çš„ æç®€å£çº¸ å½¼å²¸å›¾ç½‘ å½¼å²¸å›¾ç½‘æœ‰äº›èµ„æºéœ€è¦ç™»å½•å³å¯æ¯æ—¥å…è´¹, èµ„æºæ¯æ—¥éƒ½æœ‰æ›´æ–°, å¦å¤–æ³¨æ„ æœ‰äº›èµ„æºç‰ˆæƒæ˜¯å¦æ”¯æŒå•†ç”¨ Icon iconstoreICONFINDERICONS8 é™¤äº†å›½å†…çŸ¥åçš„é˜¿é‡Œå·´å·´ iconfont å›¾æ ‡åº“ä¹‹å¤–, è¿™é‡Œä¸ºå›½å¤–çš„ä¸€äº›å›¾æ ‡èµ„æºåº“, å…¶ä¸­çš„å›¾æ ‡å¤§å¤šä»¥åŒ…çš„å½¢å¼æä¾›, æœ‰å…è´¹å’Œæ”¶è´¹å¯ä»¥æ£€ç´¢, æœ‰äº›å¯ä»¥å•†ç”¨, ä¹Ÿæœ‰åƒ iconfont ä¸€æ ·çš„å›¾æ ‡ DIY åŠŸèƒ½ undraw åŒæ ·ä¸ºå›½å¤–ç½‘ç«™, ä¸ºè®¾è®¡è€…æä¾›ä¸°å¯Œå¤šå½©çš„æ’ç”»é›†å’Œ UI, è¿˜å¯ä»¥ä½œä¸ºå•†ç”¨å…è´¹ä½¿ç”¨ loading.io ååˆ†ç²¾ç¾çš„ loading å›¾æ ‡åº“, æä¾›å„ç§åŠ è½½å›¾æ ‡, svg, png ç­‰ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ ·å¼ çŸ¢é‡å›¾/PSD/PNG freepikfree-PSD-templates è´¨é‡å¾ˆé«˜çš„å›½å¤–ç½‘ç«™, å¯ä»¥ä¸‹è½½åˆ°å…è´¹çš„çŸ¢é‡å›¾/PSD æ¨¡æ¿ç­‰, æ¯æ—¥å…è´¹æ¬¡æ•°é™é‡, ä½†æ ‡æ˜å‡ºå¤„å³å¯ç”¨äºå•†ç”¨ pngimage å…æŠ çš„å…è´¹ç´ æç½‘ç«™, åŠå…¶ä¸°å¯Œçš„åˆ†ç±», ç®€å•çš„ä¸‹è½½å³å¯ä½¿ç”¨ PPT officeplus å¾®è½¯è‡ªå·±çš„æ¨¡æ¿èµ„æºç½‘ç«™, èµ„æºä¸°å¯Œ, è¿˜æœ‰é™¤ PSD å¤–è¿˜æä¾› Word å’Œ Excel æ¨¡æ¿ PPT è¶…çº§å¸‚åœº æ²¡æœ‰å¤šä½™çš„ä¸œè¥¿, ç•Œé¢æ¸…çˆ½, ç®€å•ç²—æš´çš„ PPT èµ„æºç½‘ç«™, ä½†æ˜¯èµ„æºé™ˆæ—§æ›´æ–°è¾ƒæ…¢, è¿˜æœ‰ä»¥ä¸‹ç­‰ PPT èµ„æºç«™, å†…å®¹åŒæ ·ä¸°å¯Œä½†å‡ä¸æ”¯æŒå•†ç”¨ ä¼˜å“ PPT51PPTPPT æ±‡HiPPTer å›¾ç‰‡ pixabay éå¸¸ç»å…¸çš„å›¾ç‰‡èµ„æºç½‘ç«™, æœ‰ç½‘ç«™å’Œ App, æœ‰ä¸­æ–‡ç•Œé¢, å†…å®¹å‡ä¸ºå…è´¹, é™¤æ­¤ä¹‹å¤–è¿˜æœ‰UnsplashPexels Foodiesfeed ä¸“æ³¨äºç¾é£Ÿçš„å›¾ç‰‡èµ„æºåº“, å›¾ç‰‡ä¸‹è½½å…è´¹ä½†ä¸æ”¯æŒå•†ç”¨, ä¸ªäººè£…é€¼ææ ¼è°ƒè¿˜æ˜¯æ²¡é—®é¢˜çš„ CC é›¶å›¾ç‰‡ç½‘ æ”¯æŒå›¾ç‰‡çš„è·¨å›¾åº“æ£€ç´¢, å…è´¹è€Œä¸”å¯ä»¥å•†ç”¨ è§†é¢‘ VideezyVideovo éƒ½æ˜¯å›½å¤–å¼ºå¤§çš„ 4K è§†é¢‘èµ„æºä¸‹è½½ç½‘ç«™åŒæ—¶åŒ…æ‹¬èƒŒæ™¯, AE, åŠ¨ç”»ç­‰ç´ æ, æœ‰æ”¶è´¹å’Œå…è´¹èµ„æº, é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä»¥ä¸‹èµ„æºç«™, å›½å†…æ‰“å¼€æœ‰é™åˆ¶mixkitdistill éŸ³é¢‘ è€³è†ç½‘æ·˜å£°ç½‘ å›½å†…çš„éŸ³æ•ˆèµ„æºç½‘ç«™, å¤šç§ç±»éŸ³æ•ˆå’Œå£°æä¾›ä¸‹è½½, ä¹Ÿå¯ç­›é€‰æ˜¯å¦å¯å•†ç”¨ å­—ä½“ å­—ç”±100font å›½å†…æ¯”è¾ƒå¤§å­—ä½“èµ„æºç½‘ç«™, å…è´¹æ”¶è´¹èµ„æºå‡æœ‰æ ‡æ³¨, è€Œ 100font åˆ™æ˜¯å…¨éƒ¨å…è´¹å¹¶æœ‰ç›¸å…³å®‰è£…æ•™ç¨‹ èµ„æºå¯¼èˆª ä¹¦äº«å®¶ å›½å†…çš„ç”µå­ä¹¦èµ„æºå¯¼èˆªç½‘ç«™, æ‹¥æœ‰å¼ºå¤§çš„æœç´¢èƒ½åŠ›, åŒæ—¶å¯ä»¥è¿›è¡Œå¤ç±, PDF, å¤–æ–‡ä¹¦, æ‚å¿—, æœ‰å£°ä¹¦çš„ä¸‹è½½ å­¦å§å¯¼èˆª å…¨é¢çš„å­¦ä¹ å¯¼èˆªç½‘ç«™, é›†åˆäº†å„ç±»å…¬ä¼—å­¦ä¹ å¹³å°æˆ–å·¥å…·ç±»ç½‘ç«™, æ¶‰åŠå„ä¸ªé¢†åŸŸ ç§‘å¡”å­¦æœ¯ å¸¸ç”¨çš„å­¦æœ¯ç´ æ/èµ„æºç½‘ç«™, ä¼˜è´¨çš„å­¦æœ¯åˆ†äº«å¹³å° Seeseed åŒ…å«äº†å„ç±»è®¾è®¡èµ„æºç½‘ç«™å’Œå·¥å…·èµ„è®¯, é€‚åˆå„ç±»è®¾è®¡å¸ˆå’Œè§†è§‰å‰ç«¯å¼€å‘äººå‘˜çš„ç½‘ç«™ åˆ›é€ ç‹® é€‚åˆäº’è”ç½‘èŒä¸šäººä½¿ç”¨çš„çš„ç½‘ç«™, å±•ç¤ºäº†å¤§é‡çš„å¼€å‘å·¥å…·ä»¥åŠè¿è¥åˆ†æä»¥ä¾›é€‰æ‹© addog æ”¶å½•äº†å¤§é‡å¹¿å‘Šèµ„æº, æ—¶äº‹çƒ­ç‚¹ä»¥åŠå„ä¸ªå¹³å°çƒ­æ¦œç­‰, é›†åˆè¥é”€ç´ æå’Œå’¨è¯¢, æ¡ˆä¾‹, æ•°æ®ç­‰ç­‰å„ä¸ªå¹³å°ç½‘ç«™ è¿˜æœ‰ä»¥ä¸‹å¼ºå¤§ä¸°å¯Œçš„å„ç±»ç½‘ç«™199it å¤§æ•°æ®åˆ†æå¯¼èˆªç½‘ç«™é›ªçƒå¯¼èˆª è´¢ç»å·¥å…·å¯¼èˆª, è¡Œä¸šæ•°æ®åˆ†æç­‰æ‰“å‡å¯¼èˆª å›½å®¶éƒ¨é—¨èŒèƒ½å¯¼èˆªæœç‹—åœ°æ–¹éƒ¨é—¨å¯¼èˆª åœ°æ–¹åŒºåŸŸæ€§å¯¼èˆª å¯æŸ¥è¯¢å„ä¸ªåŸå¸‚éƒ¨é—¨ ä¸€ä¸ªå¼€å§‹è™«éƒ¨è½ ä»¥ä¸Šä¸¤ä¸ªä¸ºèšåˆæœç´¢å¹³å°, å¯æ£€ç´¢çš„èŒƒå›´å¤§è€Œå¹¿, æŠŠå¤šç§æœç´¢å¼•æ“èšåˆä¸ºä¸€ä¸ªç½‘ç«™çš„ç»¼åˆæœç´¢ç½‘ç«™","categories":[],"tags":[]},{"title":"Vue3-Next!","slug":"Vue3-Next","date":"2021-01-29T03:31:02.000Z","updated":"2021-02-05T07:35:14.681Z","comments":true,"path":"post/27561.html","link":"","permalink":"http://example.com/post/27561.html","excerpt":"","text":"æ–°ç‰¹æ€§ Performance (æ¯” vue2 runtime å¿«äº† 2 å€) Tree shaking (æŒ‰éœ€ç¼–è¯‘ä»£ç ) Ts support (æ›´ä¼˜ç§€çš„ Ts æ”¯æŒ) Composition API (ç»„åˆ API) Custom Renderer API (è‡ªå®šä¹‰æ¸²æŸ“å™¨) å†…ç½®æ–°ç‰¹æ€§ç»„ä»¶ æ€§èƒ½ Performance Tree shakingä»å®˜æ–¹ç»™å‡ºçš„è¿è¡Œæ—¶ç¼–è¯‘è§†å›¾ä¸­å¯ä»¥çœ‹åˆ°, åœ¨ vue3 å¯¹æ¨¡æ¿è§£æä¸º vNode çš„è¿‡ç¨‹ä¸­, åœ¨ render å‡½æ•°å¯¹æ¯ä¸ªå…ƒç´ æ·»åŠ äº†ä¸åŒçŠ¶æ€çš„é™æ€æ ‡è®°, ä»¥æ­¤åœ¨ç”Ÿæˆ Virtual Dom æ—¶è€Œé€šè¿‡è¿™äº›æ ‡è®° flag æ¥åˆ¤æ–­å‡å°‘ä¸å¿…è¦çš„ diff è€Œæå‡æ€§èƒ½ diff ä¼˜åŒ– // dom &lt;div id=\"app\"&gt; &lt;h1&gt;hello&lt;/h1&gt; &lt;p&gt;world&lt;/p&gt; &lt;div :id=\"id\" style=\"color: red\"&gt;{{ msg }}&lt;/div&gt; &lt;/div&gt; // vue2 render function render() { with(this) { return _c('div', { attrs: { \"id\": \"app\" } }, [_c('h1', [_v(\"hello\")]), _c('p', [_v(\"world\")]), _c('div', { staticStyle: { \"color\": \"red\" }, attrs: { \"id\": id } }, [_v(_s(msg))])]) } } // vue3 render import { toDisplayString as _toDisplayString, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\" export function render(_ctx, _cache, $props, $setup, $data, $options) { return (_openBlock(), _createBlock(\"div\", { id: \"app\" }, [ _createVNode(\"h1\", null, \"hello\"), _createVNode(\"p\", null, \"world\"), _createVNode(\"div\", { id: _ctx.id, style: {\"color\":\"red\"} }, _toDisplayString(_ctx.msg), 9 /* TEXT, PROPS */, [\"id\"]) ])) } hoistStatic é™æ€æå‡vue3 ä¸­å¯¹äºä¸å‚ä¸æ›´æ–°çš„å…ƒç´ , ä¼šè¿›è¡Œé™æ€æå‡, åªä¼šè¢«åˆ›å»ºä¸€æ¬¡, åœ¨åç»­æ¸²æŸ“æ—¶ç›´æ¥è¿›è¡Œå¤ç”¨(vue2 ä¸­æ¯æ¬¡éƒ½éœ€é‡æ–°åˆ›å»º) // dom &lt;div id=\"app\"&gt; &lt;p&gt;p1&lt;/p&gt; &lt;p&gt;p2&lt;/p&gt; &lt;p&gt;{{ msg }}&lt;/p&gt; &lt;/div&gt; // æ²¡æœ‰ hoistStatic export function render(_ctx, _cache, $props, $setup, $data, $options) { return (_openBlock(), _createBlock(\"div\", { id: \"app\" }, [ _createVNode(\"p\", null, \"p1\"), _createVNode(\"p\", null, \"p2\"), _createVNode(\"p\", null, _toDisplayString(_ctx.msg), 1 /* TEXT */) ])) } // è¿›è¡Œ hoistStatic render const _hoisted_1 = { id: \"app\" } const _hoisted_2 = /*#__PURE__*/_createVNode(\"p\", null, \"p1\", -1 /* HOISTED */) const _hoisted_3 = /*#__PURE__*/_createVNode(\"p\", null, \"p2\", -1 /* HOISTED */) export function render(_ctx, _cache, $props, $setup, $data, $options) { return (_openBlock(), _createBlock(\"div\", _hoisted_1, [ _hoisted_2, _hoisted_3, _createVNode(\"p\", null, _toDisplayString(_ctx.msg), 1 /* TEXT */) ])) } // Check the console for the AST ç”±æ­¤å¯è§, render ä¸­æ ¹æ®å½“å‰æ‰€ç”¨åˆ°çš„åŠŸèƒ½è¿›è¡Œå¯¼å…¥æ¨¡å—/å‡½æ•°, å¹¶å¯¹åŠ¨æ€å±æ€§è¿›è¡Œæ ‡è®°, ä»¥ä¾¿äºä¹‹åçš„éå†å’Œæ›´æ–°, ä¼šåœ¨ diff æ—¶è¿‡æ»¤æ‰ä¸éœ€è¦å¯¹æ¯”çš„é™æ€å…ƒç´  cacheHandlers äº‹ä»¶ç›‘å¬ç¼“å­˜å¯¹äºç»‘å®šçš„åŒä¸€ä¸ªäº‹ä»¶, ä¼šæŠŠäº‹ä»¶å…ƒç´ æ ‡è®°ä¸ºåŠ¨æ€å±æ€§è€Œè¿›è¡Œ diff, è¿›è¡Œ cacheHandlers ä¹‹åäº‹ä»¶å…ƒç´ ä¼šè¿›è¡Œç¼“å­˜åœ¨æ›´æ–°æ—¶ç›´æ¥è·å– // dom &lt;div id=\"app\"&gt; &lt;button @click=\"handleClick\"&gt;click&lt;/button&gt; &lt;/div&gt; // cacheHandlers å‰ export function render(_ctx, _cache, $props, $setup, $data, $options) { return (_openBlock(), _createBlock(\"div\", { id: \"app\" }, [ _createVNode(\"button\", { onClick: _ctx.handleClick }, \"click\", 8 /* PROPS */, [\"onClick\"]) ])) } // cacheHandlers å¼€å¯ä¹‹å export function render(_ctx, _cache, $props, $setup, $data, $options) { return (_openBlock(), _createBlock(\"div\", { id: \"app\" }, [ _createVNode(\"button\", { onClick: _cache[1] || (_cache[1] = (...args) =&gt; (_ctx.handleClick &amp;&amp; _ctx.handleClick(...args))) }, \"click\") ])) } åœ¨ vue3 çš„ diff ç®—æ³•ä¸­, åªæœ‰è¿›è¡Œè¿‡é™æ€æ ‡è®°çš„æ‰ä¼šè¿›è¡Œæ¯”è¾ƒè¿½è¸ª Fragment è§£é‡Šä¸ºä¸åœ¨é™äºæ¨¡æ¿ä¸­çš„å•ä¸ªæ ¹èŠ‚ç‚¹ &lt;template&gt; &lt;div&gt;div1&lt;/div&gt; &lt;div&gt;div2&lt;/div&gt; &lt;/template&gt; Composition APIç›¸è¾ƒäº vue2 åŸºäºåŸå‹çš„è®¾è®¡æŠŠé’©å­å‡½æ•°å’Œæ ¸å¿ƒæ–¹æ³•æŒ‚è½½åˆ°å®ä¾‹ä¸Šä¸åŒ, vue3 åˆ™æ˜¯æŠŠæ ¸å¿ƒæ–¹æ³•åˆ†ç¦»åˆ°ä¸€ä¸ªä¸ªå‡½æ•°ä¸­è¿›è¡Œç»„åˆä½¿ç”¨, å¯æ ¹æ®éœ€è¦åªä½¿ç”¨éƒ¨åˆ†å‡½æ•°, è€Œä¸åœ¨æœ‰è¿‡å¤šçš„ this ç»‘å®šå‡å°‘å†—ä½™ import { computed, reactive, onMounted } from 'vue' function useInit() { const state = reactive({ page_num: 1, page_size: 10 total: 10 }) function ready() { onMounted(() => { console.log('mounted') }) } const userInfo = computed(() => store.state.userInfo ) return { state, ready, userInfo } } setup() { const { state, ready, userInfo } = useInit() } æ²¡æœ‰å¼•ç”¨çš„æ–¹æ³•, åˆ™ä¼šè¢« tree-shaking ä¼˜åŒ–æ‰, æ‰“åŒ…æ—¶ä¹Ÿä¸ä¼šæ‰“åŒ…åˆ°æœ€ç»ˆä»£ç é‡Œ, å› æ­¤æ–‡ä»¶æ€»é‡ä¼šç›¸è¾ƒäºä¹‹å‰å°å¾ˆå¤šå¯ä»¥åˆ©ç”¨æ··å…¥çš„æ€æƒ³, å¯¹æ¨¡å—è¿›è¡Œåˆ†è§£ç»†åŒ–å¤„ç†æ¥æ›´å¥½çš„å®ç°æ¨¡å—åŒ–, é¿å…äº† v2 ä¸­ä¸Šä¸‹é€»è¾‘ç¼–å†™æ¥å›åˆ‡æ¢çš„é—®é¢˜ å†…ç½®å‡½æ•°/é’©å­ setup()beforeCreate -&gt; setup -&gt; created çš„ä¸€ä¸ªæ‰§è¡Œæ—¶æœºsetup å‡½æ•°ä¸­, this æ— æ³•ä½¿ç”¨setup å‡½æ•°åªèƒ½ä¸ºåŒæ­¥, æ— æ³•æ·»åŠ  async ä¿®é¥° refæ¥æ”¶ä¸€ä¸ªç®€å•ç±»å‹çš„å˜é‡, è¿”å›ä¸€ä¸ª proxy å¯¹è±¡,å¹¶ç›‘å¬å…¶ä¿®æ”¹ ç›¸å½“äº data()ä¸­çš„å®šä¹‰çš„æ•°æ®åœ¨ vue ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨, js ä¸­éœ€è¦ ref.value æ¥ä½¿ç”¨ const n = ref(11); // ref æœ¬è´¨è¿˜æ˜¯ reactive ä¸Šé¢è¿˜ç­‰äº const n = reactive({ value: 11 }); return { // å¯¼å‡ºä¹‹åçš„æ•°æ®æ‰èƒ½åœ¨è§†å›¾ä¸­ä½¿ç”¨ n, }; vue2.x ç”¨æ¥æ¥æ”¶å…ƒç´ å®ä¾‹çš„ ref ä¹Ÿå¯ä»¥è¿›è¡Œæ¥æ”¶ &lt;div ref=\"dom\">è·å–DOMå…ƒç´ &lt;/div> onMounted(() => { const dom = ref(null); // div }) // ä¹Ÿå¯ä»¥é€šè¿‡å‡½æ•°çš„å½¢å¼è¿›è¡Œå®šä¹‰ &lt;div :ref=\"setRef\">è·å–DOMå…ƒç´ &lt;/div> const setRef = el => { myRef = el; } return { setRef } reactiveè·Ÿ ref ä½œç”¨ç±»ä¼¼, æŠŠå‚æ•°å“åº”å¼å¤„ç†, æ¥æ”¶å‚æ•°ä¸ºä¸€ä¸ªå¯¹è±¡ const state = reactive({ num: 0, }); function add() { state.num++; } return { // state ç»è¿‡toRefsè¿”å›å¤–é¢å¯ä»¥ç›´æ¥ä½¿ç”¨, å¦åˆ™éœ€è¦state.xxxæ¥è°ƒç”¨ ...toRefs(state), }; toRef toRefsç”Ÿæˆå“åº”å¼æ•°æ®å¦‚æœä½¿ç”¨ ref å°†æŸä¸€ä¸ªå¯¹è±¡ä¸­çš„å±æ€§å˜æˆå“åº”å¼çš„æ•°æ®, ä¿®æ”¹å“åº”å¼æ•°æ®æ˜¯ä¸ä¼šå½±å“åˆ°åŸå§‹çš„æ•°æ®toRef ä¼šå½±å“åˆ°åŸå§‹æ•°æ®, å¦‚æœå“åº”å¼çš„æ•°æ®æ˜¯é€šè¿‡ toRef åˆ›å»ºçš„, ä¿®æ”¹åˆ™ä¸ä¼šè§¦å‘ ui æ›´æ–°é€‚ç”¨äºå„ç§æ€§èƒ½ä¼˜åŒ–çš„åœºæ™¯ let obj = { name: 'hello' } let name = toRef(obj, 'name') function handle() { name.value = 'world' // æ­¤æ—¶objå’Œnameéƒ½å‘ç”Ÿäº†ä¿®æ”¹ ä½†æ˜¯uiä¸ä¼šæ›´æ–° } // toRefs ä¸éœ€è¦æŒ‡å®škeyå€¼ ä¼šå°†æ•´ä¸ªå¯¹è±¡è¿›è¡Œæ“ä½œ let state = toRefs(obj) function handle() { state.name.value = 'world' } readonly shallowReadonlyreadonly ç”¨äºåˆ›å»ºåªè¯»å¯¹è±¡, å¹¶ä¸”æ˜¯é€’å½’åªè¯»shallowReadonly ç”¨äºåˆ›å»ºéé€’å½’åªè¯»å¯¹è±¡, åªæ˜¯ç¬¬ä¸€å±‚æ•°æ®åªè¯»ä¸ const åªè¯»ä¸åŒäº const ä¸èƒ½ç»™å˜é‡é‡æ–°èµ‹å€¼, readonly æ˜¯å±æ€§ä¿æŠ¤, ä¸èƒ½ç»™å±æ€§é‡æ–°èµ‹å€¼ shallowReactive shallowRef triggerRefåˆ›å»ºéé€’å½’æ•°æ®è¿›è¡Œç›‘å¬, æ§åˆ¶é€’å½’çš„ç¨‹åº¦, é€‚ç”¨ç”¨äºåœ¨æ•°æ®é‡æ¯”è¾ƒå¤§ å±‚çº§è¾ƒæ·±çš„åœºæ™¯å¦‚æœæ˜¯é€šè¿‡ shallowRef åˆ›å»ºçš„æ•°æ®, vue ç›‘å¬çš„æ˜¯.value çš„å˜åŒ–è€Œä¸æ˜¯ç¬¬ä¸€å±‚çš„å˜åŒ–triggerRef æ ¹æ®ä¼ å…¥çš„æ•°æ®, ä¸»åŠ¨çš„æ›´æ–°ç•Œé¢, å¦‚æœæ˜¯ reactive ç±»å‹æ•°æ®, æ— æ³•ä¸»åŠ¨è¿›è¡Œæ›´æ–° isRef isReactive isReadonlyè¿”å›å¯¹è±¡æ˜¯å¦å±äºå“åº”å¼å¯¹è±¡å’Œç±»å‹ toRaw markRawtoRaw è¿”å›ä»£ç†å¯¹è±¡çš„åŸå§‹å¯¹è±¡markRaw ä¼ å…¥ä¸éœ€è¦è¢«è¿½è¸ªçš„å¯¹è±¡ let obj = { name: \"hello\" }; let state = reactive(obj); // Proxy&nbsp;{name: \"hello\"} let obj2 = toRaw(state); // {name: \"hello\"} obj === state // false obj === obj2 // true // å¦‚æœä½¿ç”¨ref let obj3 = ref(hello) let obj4 = toRaw(obj3.value) ref/reactive æ¯æ¬¡ä¿®æ”¹éƒ½ä¼šè¢«è¿½è¸ª/æ›´æ–° ui ç•Œé¢, æœ‰å¤§é‡ä¿®æ”¹æ˜¯å¾ˆæ¶ˆè€—æ€§èƒ½çš„, å¦‚æœæœ‰ä¸€äº›æ“ä½œä¸éœ€è¦ä¿®æ”¹ ui, åˆ™å¯ä»¥ä½¿ç”¨ toRaw æ–¹æ³•è·å–åŸå§‹æ•°æ®åœ¨è¿›è¡Œä¿®æ”¹å°±ä¸ä¼šè¢«è¿½è¸ªèŠ‚çœæ€§èƒ½ customRefè¿”å›ä¸€ä¸ª ref å¯¹è±¡, å¯ä»¥æ˜¾å¼çš„æ§åˆ¶ä¾èµ–è¿½è¸ªå’Œè§¦å‘å“åº” function myRef(value) { return customRef((track, trigger) => { // customRef å¯ä»¥ç”¨æ¥å¼‚æ­¥æ“ä½œ, ä½†æ˜¯åœ¨getä¸­è°ƒç”¨ trigger, ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ return { get() { track(); // è¡¨æ˜è¿™ä¸ªæ•°æ®æ˜¯éœ€è¦è¿½è¸ªå˜åŒ–çš„ return value; }, set(newValue) { value = newValue; trigger(); // æ›´æ–°æ•°æ® }, }; }); } setup() { const name = myRef('hello') const handle = () => { name.value = 'world' } return { name, handle } } ç”Ÿå‘½å‘¨æœŸ 2.xä¸ 3.0çš„å¯¹ç…§ beforeCreate -&gt; ä½¿ç”¨ setup() created -&gt; ä½¿ç”¨ setup() beforeMount -&gt; onBeforeMount mounted -&gt; onMounted beforeUpdate -&gt; onBeforeUpdate updated -&gt; onUpdated beforeDestroy -&gt; onBeforeUnmount destroyed -&gt; onUnmounted errorCaptured -&gt; onErrorCaptured 3.0 ä¸­é’©å­å‡½æ•°éƒ½è¢«åˆ†ç¦»äº†å‡ºæ¥, å¯ä»¥åœ¨å¤–éƒ¨ç›´æ¥å®šä¹‰å®Œå†åˆ° setup ä¸­è¿›è¡Œä½¿ç”¨, ä»¥è¾¾åˆ°æ··å…¥çš„æ•ˆæœ function baseMixins() { const n1 = ref(1); const addN1 = () => { n1.value++; }; onMounted(() => { console.log(\"baseMixins mounted\"); }); return { n1, addN1, }; } setup() { baseMixins() return { } } getCurrentInstance è·å–å½“å‰å®ä¾‹3.0 ä¸­æ‘’å¼ƒäº†ä¼ ç»Ÿ this æ¥è°ƒç”¨å®ä¾‹å¯¹è±¡, æä¾›äº† getCurrentInstance æ¥è·å–å½“å‰ç»„ä»¶å®ä¾‹, å¯ä»¥é€šè¿‡ ctx æ¥è·å–ä¸Šä¸‹æ–‡å¯¹è±¡ const { ctx } = getCurrentInstance(); // ctx.$router / ctx.$props ctx.$parent ç­‰ // è·¯ç”±æ‹¦æˆª ctx.$router.beforeEach((to, from, next) => { console.log(\"è·¯ç”±çš„ç”Ÿå‘½å‘¨æœŸ\"); next(); }); æ–°è§‚å¯Ÿè€… watch å’Œè®¡ç®—å±æ€§ computed watchEffect watch( () => n1.value, (newVal, oldVal) => { console.log(\"æ–°å€¼\", newVal); console.log(\"è€å€¼\", oldVal); } ); // å¦‚æœæ˜¯åŒæ—¶ç›‘å¬å¤šä¸ªæ•°æ®, æ¥æ”¶çš„å‚æ•°å¯ä»¥ä¸ºä¸€ä¸ªæ•°ç»„ watch( [() => n1.value, () => n2.value], ([n1Val, n2Val], [n1OldVal, n2OldVal]) => { // å¯¹åº”å…³ç³»æ˜¯ç›¸åŒçš„ console.log(\"n1: \", n1Val, n1OldVal); console.log(\"n2: \", n2Val, n2OldVal); } ); computed ç›¸è¾ƒäºä¹‹å‰åªæ˜¯å†™æ³•ä¸Šçš„å˜åŒ– const price = ref(10); const priceFormat = computed(() => \"Â¥\" + price.value); watchEffect ä¼ å…¥ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°, å¹¶è¿½è¸ªå…¶ä¾èµ–, åœ¨å…¶ä¾èµ–æ›´æ–°æ—¶é‡æ–°è¿è¡Œè¯¥å‡½æ•°, è€Œä¸”å‡½æ•°ä¼šåœ¨å½“å‰ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è‡ªåŠ¨å¸è½½ const n3 = ref(1); const n3Change = () => { n3.value++; }; const n3Watch = watchEffect(() => { if (n3.value) { console.log(\"n3 change\", n3.value); } }); return { n3, n3Change, };","categories":[],"tags":[{"name":"vue","slug":"vue","permalink":"http://example.com/tags/vue/"}]},{"title":"H5ä¸åŸç”ŸAppäº¤äº’JSBridge","slug":"H5ä¸åŸç”ŸAPPäº¤äº’JSBridge","date":"2021-01-27T08:52:22.000Z","updated":"2021-01-28T02:47:14.797Z","comments":true,"path":"post/9238.html","link":"","permalink":"http://example.com/post/9238.html","excerpt":"","text":"åœ¨ App åµŒå¥— H5 é¡¹ç›®éœ€è¦æ•°æ®é€šä¿¡, å› æ­¤å€ŸåŠ©åŸç”Ÿ WebViewJavascriptBridge è¿›è¡Œäº¤äº’1. IOSios éœ€è¦å€ŸåŠ©iframeè¿›è¡Œè¿æ¥, éœ€è¦å…ˆè¿›è¡Œä¸€ä¸ªæ³¨å†Œ function setupWebViewJavascriptBridge(callback) { if (window.WebViewJavascriptBridge) { return callback(WebViewJavascriptBridge); } if (window.WVJBCallbacks) { return window.WVJBCallbacks.push(callback); } window.WVJBCallbacks = [callback]; var WVJBIframe = document.createElement(\"iframe\"); WVJBIframe.style.display = \"none\"; WVJBIframe.src = \"https://__bridge_loaded__\"; document.documentElement.appendChild(WVJBIframe); setTimeout(function () { document.documentElement.removeChild(WVJBIframe); }, 0); } æ³¨å†Œæ²¡é—®é¢˜å°±èƒ½ç›´æ¥è¿›è¡Œäº¤äº’äº†, äº¤äº’ä¸Šåˆ†å®¢æˆ·ç«¯è°ƒç”¨ H5, å’Œ H5 è°ƒç”¨å®¢æˆ·ç«¯ // ä½¿ç”¨ setupWebViewJavascriptBridge(function (bridge) { // æ³¨å†Œä¸€ä¸ªæ–¹æ³• funcName å®¢æˆ·ç«¯è¿›è¡Œè°ƒç”¨, responseCallbackä¸ºå›è°ƒå‡½æ•° bridge.registerHandler(\"funcName\", function (data, responseCallback) { console.log(\"ios registerHandler:ok\", data); responseCallback(data); }); // jsè°ƒç”¨å®¢æˆ·ç«¯çš„æ–¹æ³• æ­¤æ—¶çš„funcNameä¸ºå®¢æˆ·ç«¯å·²ç»é…ç½®å¥½çš„æ–¹æ³• var params = { key: \"value\" }; // å¯ä»¥å‘é€JSONæ•°æ®ç»™åˆ°å®¢æˆ·ç«¯ bridge.callHandler( \"funcName\", params, function responseCallback(responseData) { // åœ¨å›è°ƒé‡Œé¢æ‹¿åˆ°å®¢æˆ·ç«¯è¿”å›çš„æ•°æ® console.log(\"ios response:\", responseData); } ); }); éœ€è¦æ³¨æ„çš„æ˜¯åœ¨é¡¹ç›®ä¸­æ³¨å†Œçš„æ–¹æ³•éœ€è¦æ˜¯å…¨å±€æ–¹æ³•ä¸èƒ½æ˜¯å†…éƒ¨/ç§æœ‰æ–¹æ³•, vueé¡¹ç›®ä¸­å¦‚æœè¦ä½¿ç”¨methodsä¸­çš„æ–¹æ³•è¿˜éœ€è¦é¢å¤–æŒ‚è½½åˆ°window AndroidåŒæ ·å…ˆç”¨å‡½æ•°è¿›è¡Œåˆ¤æ–­æ˜¯å¦å¯ç”¨ è¿›è¡Œæ³¨å†Œ function connectWebViewJavascriptBridge(callback) { if (window.WebViewJavascriptBridge) { callback(WebViewJavascriptBridge); } else { document.addEventListener( \"WebViewJavascriptBridgeReady\", function () { callback(WebViewJavascriptBridge); }, false ); } } æœ‰äº†æ³¨å†Œå‡½æ•°ä¹‹åå—å°±èƒ½ç›´æ¥è°ƒç”¨ä¸Šé¢çš„å‡½æ•°è¿›è¡Œäº¤äº’ connectWebViewJavascriptBridge(function (bridge) { // æ³¨å†Œä¸€ä¸ªæ–¹æ³• funcName å®¢æˆ·ç«¯è¿›è¡Œè°ƒç”¨, responseCallbackä¸ºå›è°ƒå‡½æ•° bridge.registerHandler(\"funcName\", function (data, responseCallback) { console.log(\"ios registerHandler:ok\", data); responseCallback(data); }); // è°ƒç”¨å®¢æˆ·ç«¯funcNameæ–¹æ³•, å¯ç”¨ä¼ JSONç»™åˆ°å®¢æˆ·ç«¯å’Œè·å–è¿”å›çš„æ•°æ® bridge.callHandler( \"funcName\", { key: \"value\" }, function responseCallback(responseData) { console.log(\"Android response:\", responseData); } ); }); é™¤äº†åŸç”Ÿçš„ WebViewJavascriptBridge äº¤äº’æ–¹æ³•å¤–, è¿˜æœ‰ä¸€äº›ç›´æ¥å°è£…å¥½çš„åº“å¯ä»¥ä½¿ç”¨, ä½¿ç”¨æ–¹æ³•æ›´ä¸ºç®€å•ä¾¿æ·, è¿™é‡Œæ¨è DSBridge DSBridge-IOS: https://github.com/wendux/DSBridge-IOSDSBridge-Android: https://github.com/wendux/DSBridge-Android åˆå§‹åŒ– dsBridge npm install dsbridge // åˆå§‹åŒ–ä¸€ä¸ªä¸ºå¯¹è±¡ const dsBridge = require(\"dsbridge\") è°ƒç”¨å®¢æˆ·ç«¯æ–¹æ³• / æ³¨å†Œå…¨å±€æ–¹æ³•ç»™å®¢æˆ·ç«¯è°ƒå– // åŒæ­¥è°ƒç”¨ var result = dsBridge.call(\"funcName\", params); // å¼‚æ­¥è°ƒç”¨ dsBridge.call(\"funcName\", params, function (response) { console.log(\"response\"); }); // æ³¨å†Œä¸€ä¸ªæ–¹æ³• dsBridge.register(\"jsApi\", function (...args) { console.log(\"jsApi res:ok\", ...args); }); // æ³¨å†Œä¸€ä¸ªå¯¹è±¡ï¼ŒæŒ‡å®šä¸€ä¸ªå‘½åç©ºé—´ dsBridge.register(\"test\", { tag: \"test\", test1: function () { return this.tag + \"1\"; }, test2: function () { return this.tag + \"2\"; }, }); //æ£€æµ‹æ˜¯å¦å­˜åœ¨ä¸€ä¸ªåä¸º'testAsyn'çš„API(æ— è®ºåŒæ­¥è¿˜æ˜¯å¼‚æ­¥) dsBridge.hasNativeMethod(\"testAsyn\"); //æ£€æµ‹testå‘½åç©ºé—´ä¸‹æ˜¯å¦å­˜åœ¨ä¸€ä¸ªâ€™testAsynâ€™çš„API dsBridge.hasNativeMethod(\"test.testAsyn\"); // æ£€æµ‹æ˜¯å¦å­˜åœ¨ä¸€ä¸ªåä¸º\"testSyn\"çš„å¼‚æ­¥API dsBridge.hasNativeMethod(\"testSyn\", \"asyn\"); //false","categories":[],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://example.com/tags/JavaScript/"},{"name":"App","slug":"App","permalink":"http://example.com/tags/App/"}]},{"title":"ES2017 ~ ES2020æ–°ç‰¹æ€§","slug":"ES2016-ES2020æ–°ç‰¹æ€§","date":"2021-01-18T01:56:53.000Z","updated":"2021-01-26T07:08:15.606Z","comments":true,"path":"post/58832.html","link":"","permalink":"http://example.com/post/58832.html","excerpt":"","text":"æœ¬æ–‡æ€»ç»“äº†ä¸€äº› ES7 ä¹‹åçš„æ–°è¯­æ³•, å†…å®¹å¤§å¤šæŠ„å½•äºç½‘ç»œåŒ…å«æ£€æµ‹ Array/String.prototype.includes()åˆ¤æ–­å­—ç¬¦ä¸²/æ•°ç»„æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ , ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ£€ç´¢èµ·å§‹ä½ç½®, è¿”å›å€¼ä¸º true/false Array.prototype.includes(searchElement, fromIndex) å¹‚è¿ç®—ç¬¦å· ** x:Number ** y:Number ç›¸å½“äº Math.pow(x, y) å­—ç¬¦ä¸²è¡¥å…… String.prototype.padStart() / padEnd() / trimStart() / trimEnd() / replaceAll()padStart/padEndç”¨äºå¡«å……å­—ç¬¦ä¸²ç›´åˆ°æŒ‡å®šé•¿åº¦ï¼Œä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç›®æ ‡é•¿åº¦ï¼Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²ä¸ºç”¨äºå¡«å……çš„å­—ç¬¦ä¸² let str = '123456789' let res = str.padStart(14, '456') // åœ¨å¼€å§‹å¡«å…… let res2 = str.padEnd(14, '456') // åœ¨ç»“æŸå¡«å…… console.log(res) // 45645123456789 console.log(res2) // 12345678945645 trimStart()/trimEnd() ç›¸å½“äº String.prototype.trim()çš„ç»†åˆ†ä½¿ç”¨ const string = ' Hello World! '; string.trimStart(); // 'Hello World! ' string.trimEnd(); // ' Hello World!' replaceAll() æ–¹æ³•æ˜¯åŸºäº replace(/\\!/g, '') æ–¹æ³•çš„å»¶ä¼¸ const string = 'ğŸ˜ƒ!ğŸ˜¯!ğŸ˜›'; console.log(string.replaceAll('!', 'ğŸ‘¿')) // ğŸ˜ƒğŸ‘¿ğŸ˜¯ğŸ‘¿ğŸ˜› å¯¹è±¡æ‰©å±• Object.keys() / values() / entries() / fromEntries() // å¤„ç†å¯¹è±¡ è¿”å›å€¼ï¼šä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å¯æšä¸¾å±æ€§çš„é”®çš„æ•°ç»„ let person = {name:\"å¼ ä¸‰\",age:99,address:\"åŒ—äº¬\",getName:function(){}}; console.log(Object.keys(person)); // [\"name\", \"age\", \"address\", \"getName\"] // å¤„ç†æ•°ç»„ è¿”å›å€¼ï¼šæ•°ç»„çš„ç´¢å¼•å€¼æ•°ç»„ let arr = [1,2,3,4,5,6]; console.log(Object.keys(arr)); //[\"0\", \"1\", \"2\", \"3\", \"4\", \"5\"] // å¤„ç†å­—ç¬¦ä¸² è¿”å›å€¼ï¼šæ•°ç»„çš„ç´¢å¼•å€¼æ•°ç»„ let str = \"Hello,world\"; console.log(Object.keys(str)); //[\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\"] // è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†å±æ€§çš„é”®å€¼, å‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒObject.valuesä¼šå…ˆå°†å…¶è½¬ä¸ºå¯¹è±¡ let obj = { name: 'Cc', age: '99', job: 'web' } console.log(Object.values(obj)) [\"Cc\", \"99\", \"web\"] // æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ let obj = { name: 'Cc', age: '99', job: 'web' } console.log(Object.entries(obj)) // [[\"name\", \"Cc\"][\"age\", \"99\"][\"job\", \"web\"]] // æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œæˆå‘˜æ˜¯Object.entriesçš„é”®å€¼å¯¹æ•°ç»„ let entries = [[\"name\", \"Cc\"]]; console.log(Object.fromEntries(entries)); // {name: \"Cc\"} å¼‚æ­¥è¿­ä»£ Async For// åœ¨forå¾ªç¯ä¸­æ”¯æŒasync/awaitä¿®é¥° æ¥å¾ªç¯å­˜åœ¨å¼‚æ­¥çš„é˜Ÿåˆ— function getPromise (time) { return new Promise((resovle) => { setTimeout(() => { resovle(time) }, time) }) } const arr = [getPromise(1000), getPromise(2000), getPromise(3000)]; let main = async () => { for await (let item of arr) { console.log(item) // 1000 2000 3000 } } // ä¸ä½¿ç”¨async/awaitçš„è¯forå¾ªç¯ä¼šè¿”å›ä¸‰ä¸ªPromiseå¯¹è±¡ Promise.race / anyPromise.race åˆ™æ˜¯è¿”å›æœ€å…ˆæˆåŠŸçš„å®ä¾‹ let p1 = new Promise((resolve, reject) => { setTimeout(() => { resolve('p1p1') },1000) }) let p2 = new Promise((resolve, reject) => { setTimeout(() => { reject('p2p2') }, 500) }) Promise.race([p1, p2]).then((result) => { console.log(result) // p1p1 }).catch((error) => { console.log(error) }) Promise.any è¿”å›ç»™å®šå®ä¾‹åªè¦æœ‰ä¸€ä¾‹æˆåŠŸ åˆ™è¿”å›ç¬¬ä¸€æ¡å®ä¾‹ä½œä¸ºè¿”å›å€¼, ä¸Promise.raceä¸åŒ, å®ƒä¼šåœ¨æ‰€æœ‰å®ä¾‹å¤±è´¥ä¹‹åæ‰è¿”å›å¤±è´¥çš„å€¼ let p3 = new Promise((resolve, reject) => { setTimeout(() => { resolve('p3p3') },1000) }) let p4 = new Promise((resolve, reject) => { setTimeout(() => { reject('p4p4') }, 500) }) let p5 = new Promise((resolve, reject) => { setTimeout(() => { reject('p5p5') }, 500) }) try { const first = await Promise.any([p3, p4, p5]); console.log('first',first) // first p3p3 } catch (error) { console.log('error',error) } æ•°ç»„æ‰å¹³å±•å¼€ Array.prototype.flat() / Array.prototype.flatMap() // flat() é€šè¿‡ä¼ å…¥å±‚çº§ é»˜è®¤ä¸º1 æ¥å±•å¼€å¤šç»´æ•°ç»„ [1, 2, [3, 4]].flat(); // [ 1, 2, 3, 4 ] [1, 2, [3, 4, [5, 6]]].flat(2); // [ 1, 2, 3, 4, 5, 6 ] ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ â€˜??â€™ ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ ?? æä¾›äº†ä¸€ç§ç®€çŸ­çš„è¯­æ³•ï¼Œç”¨æ¥è·å–åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªâ€œå·²å®šä¹‰â€çš„å˜é‡ a ?? b çš„ç»“æœæ˜¯ï¼š aï¼Œå¦‚æœ a ä¸æ˜¯ null æˆ– undefinedï¼Œ bï¼Œå…¶ä»–æƒ…å†µ æ‰€ä»¥ï¼Œvalue = a ?? b æ˜¯ä¸‹é¢è¿™ä¸ªè¡¨è¾¾å¼çš„ç®€å†™ï¼šå¦‚æœaæ˜¯å·²å®šä¹‰çš„åˆ™è¿”å›açš„å€¼ value = (a !== null &amp;&amp; a !== undefined) ? a : b; åŒºåˆ«äº || è¿”å›ç¬¬ä¸€ä¸ª çœŸ å€¼ã€‚ ?? è¿”å›ç¬¬ä¸€ä¸ª å·²å®šä¹‰çš„å€¼ã€‚ é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦ / æ•°å­—åˆ†éš”ç¬¦é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦ç»“åˆäº† é€»è¾‘è¿ç®—ç¬¦ å’Œ èµ‹å€¼è¡¨è¾¾å¼ã€‚é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦æœ‰ä¸¤ç§ï¼šæˆ–ç­‰äºï¼ˆ||=ï¼‰, ä¸”ç­‰äºï¼ˆ&amp;&amp;=ï¼‰ a ||= b ç­‰åŒäº a || (a = b); a &amp;&amp;= b ç­‰åŒäº a &amp;&amp; (a = b); æ•°å­—åˆ†éš”ç¬¦å°†æ•°å­—è¿›è¡Œåˆ†ç»„, æé«˜å¯è¯»æ€§ 1_000_000_000 // 1000000000 1e10_000 // Infinity 123_4.56 // 1234.56","categories":[],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://example.com/tags/JavaScript/"}]},{"title":"Nuxtæ¡†æ¶ä½¿ç”¨è¸©å‘","slug":"Nuxtæ¡†æ¶ä½¿ç”¨çš„ä¸€äº›é—®é¢˜","date":"2021-01-13T09:33:06.000Z","updated":"2021-02-03T03:04:34.964Z","comments":true,"path":"post/61197.html","link":"","permalink":"http://example.com/post/61197.html","excerpt":"","text":"æœ¬æ–‡è®°å½• Vue é¡¹ç›®ä¸­ä½¿ç”¨ Nuxtjs æ¡†æ¶è¿›è¡Œ SSR æ¸²æŸ“ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ NuxtJs: https://www.nuxtjs.cn/guide/installationEnv: node^14.15.4 &nbsp; npm^6.14.10 &nbsp; nuxt^2.14.6 &nbsp; vue^2.6.12 è·¯ç”±åµŒå¥—åœ¨è‡ªåŠ¨è·¯ç”±ä¸­, è¦å¤„ç†åµŒå¥—è·¯ç”±éœ€è¦æ³¨æ„æ–‡ä»¶ä½ç½®å’Œæ–‡ä»¶å¤¹çš„å‘½å, æ–‡æ¡£ä¸­ä¹Ÿå¾ˆæ¸…æ¥š æ ¹æ®å›¾ç¤ºé…ç½®äºŒçº§è·¯ç”±æ²¡æœ‰é—®é¢˜, ä½†é¡¹ç›®ä¸­æœ‰è¿™äºŒçº§èœå•åµŒå¥—è·¯ç”±çš„åœºæ™¯, æ ¹æ®æ–‡æ¡£ä¸­æ¥é…ç½®åªèƒ½åŒæ—¶æ˜¾ç¤ºæœ€åä¸€çº§è·¯ç”±çš„å†…å®¹,è¾¾ä¸åˆ°èœå•åˆ‡æ¢çš„ç›®çš„ å¯ä»¥çœ‹åˆ°, çˆ¶ page å¹¶æ²¡æœ‰ä¸€èµ·æ¸²æŸ“å‡ºæ¥ æ­¤æ—¶æŠŠæ–‡ä»¶ç»“æ„ä¿®æ”¹ä¸€ä¸‹, å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¾¾åˆ°æ•ˆæœ ğŸ˜ˆ -| pages/ -| pages/ --| static/ --| static.vue ---| index.vue &gt; &gt; &gt; --| static/ ---| main.vue ---| main.vue æ’ä»¶ä½¿ç”¨ç”±äºé…ç½®å¼€å¯äº† ssr æ¨¡å¼, æ‰€ä»¥åœ¨ç›´æ¥å¼•å…¥ä½¿ç”¨ä¸€äº›æ“ä½œ dom å…ƒç´ çš„æ’ä»¶æ—¶, ä¼šæœ‰ error: window/document is not defined ç­‰ç­‰æŠ¥é”™, å…¶å®è¿™ç§é—®é¢˜æ˜¯ç”±äºæœåŠ¡ç«¯æ¸²æŸ“æ—¶ä¸å­˜åœ¨ window å¯¹è±¡å¯¼è‡´å¯ä»¥åœ¨ nuxt.config / pluginså¼•å…¥æ—¶è®¾ç½®è®¾ç½® ssr: false æ¥è§£å†³ ä½†æ˜¯åœ¨æˆ‘é¡¹ç›®ä¸­è¿˜ä½¿ç”¨åˆ°äº† JSEncrypt è¿™ä¸ªåº“æ¥è¿›è¡Œæ•°æ®åŠ å¯†, ä¸Šé¢æ–¹æ³•èµ·ä¸åˆ°ä½œç”¨,å€Ÿé‰´ç½‘ç»œä¸Šçš„æ–¹æ³•ä¾‹å¦‚å¼•å…¥å‰å®šä¹‰ global.window/document/navigatorç­‰, è¿˜ä¼šæœ‰å…¶ä»–æ„æƒ³ä¸åˆ°çš„é—®é¢˜ -_-||, è¿™äº›é—®é¢˜éƒ½æ˜¯ Nuxt çš„ç‰¹æ€§å¯¼è‡´, æˆ‘æ˜¯é‡‡ç”¨åœ¨åŠ å¯†å‡½æ•°å¤´éƒ¨è¿›è¡Œç¯å¢ƒåˆ¤æ–­æ¥ç®€å•åº”ä»˜äº†ä¸€ä¸‹, ç«Ÿç„¶ä¸æŠ¥é”™äº† ğŸ˜… (å¥½åƒè¿˜å¯ä»¥é€šè¿‡ node çš„ jsdom æ¥å¤„ç†) åŒæ ·åœ¨ä½¿ç”¨éœ€è¦æ“ä½œ DOM å…ƒç´ çš„æ’ä»¶æ—¶, ä¸æƒ³è¦å…¨å±€å¼•å…¥ä¹Ÿå¯ä»¥é€šè¿‡å…ˆåˆ¤æ–­åœ¨å¼•å…¥çš„å½¢å¼, è¿™é‡Œä½¿ç”¨åˆ°äº†äºŒç»´ç æ’ä»¶ qrcode è¯·æ±‚ä»£ç†/å…¨å±€æ ·å¼ åœ¨ Nuxt ä¸­æƒ³è¦ä½¿ç”¨è¯·æ±‚ä»£ç†éœ€è¦å…ˆå®‰è£… @nuxtjs/axios || @nuxtjs/proxy ä¹‹åå† nuxt.config / modules è¿›è¡Œå¼•å…¥ç„¶åé…ç½®, ä¹‹åçš„ proxy å°±è·Ÿ vue é¡¹ç›®ä¸­çš„ä¸€æ ·äº†å…¨å±€ css åŒç†, å…ˆå¼•å…¥@nuxtjs/style-resources ä¹‹ååœ¨ styleResourcesä¸­å¼•å…¥æ–‡ä»¶å³å¯, å¦‚æœå¼•å…¥ css é¢„å¤„ç†å™¨è¦å…ˆè¿›è¡Œç›¸åº” loader çš„å®‰è£… ä¸åŒç¯å¢ƒé…ç½® Nuxt æœ¬èº«æä¾›äº†é…ç½®é¡¹åœ¨ nuxt.config / env å¯ä¾›é…ç½® env: { BASE_URL: process.env.BASE_URL, NODE_ENV: process.env.NODE_ENV }è¿˜å¯ä»¥åœ¨æ‰“åŒ…æ—¶å€ŸåŠ©æ‰“åŒ…å‘½ä»¤è®¾ç½®ç¯å¢ƒå˜é‡ æ³¨: åœ¨é Mac ç³»ç»Ÿä¸‹ ç›´æ¥è®¾ç½® NODE_ENV ä¼šæŠ¥é”™, éœ€è¦å€ŸåŠ©cross-envæ¥è¿›è¡Œ æ­¤æ—¶å·²ç»å¯ä»¥æ ¹æ®ç¯å¢ƒå˜é‡æ¥è®¾ç½®ä¸åŒçš„è¯·æ±‚åœ°å€äº† url è½¬ä¹‰åœ¨ä½¿ç”¨ vue-router ç¼–ç¨‹å¼è·¯ç”±æ—¶, åœ¨ nuxt ä¸­æ¨èä½¿ç”¨paramsè¿›è¡Œä¼ å‚å¤„ç†, å¦‚æœä½¿ç”¨åˆ° query è¿›è¡Œå¤šä¸ªå‚æ•°æŸ¥è¯¢æ—¶, å¦‚æœä¸è¿›è¡Œè½¬ä¹‰åœ¨åˆ·æ–°é¡µé¢/é‡å®šå‘é¡µé¢æ—¶ä¼šå‡ºç°è¯†åˆ«ä¸äº†çš„æƒ…å†µå¦‚ä¸‹å›¾æ­¤æ—¶çš„ url ä¸º: /check-result?contract_no=440376&amp;type=result&amp;form=contract&amp;state=3 å› ä¸ºåœ¨æœåŠ¡å™¨æ¸²æŸ“çš„çš„æœºåˆ¶, url å‚æ•°ä¸­å­˜åœ¨ = ç­‰ç¬¦å·æ—¶æœåŠ¡å™¨ç«¯å¯èƒ½æ— æ³•è·å¾—æ­£ç¡®çš„å‚æ•°å€¼, å¹¶ä¸”ç›´æ¥é‡å®šå‘åˆ°é”™è¯¯é¡µé¢, æ‰€ä»¥éœ€è¦å¯¹ url å‚æ•°è½¬ä¹‰å¤„ç†, ä»¥ä¸‹ä¸ºå¤„ç†çš„å‡½æ•°, å¯ä»¥ç›´æ¥æŒ‚åœ¨åˆ°vue åŸå‹ä¹‹ä¸Šä¾¿äºå…¨å±€ä½¿ç”¨ /** * @param {Array} actual * @returns {Array} */ export function cleanArray(actual) { const newArray = []; for (let i = 0; i &lt; actual.length; i++) { if (actual[i]) { newArray.push(actual[i]); } } return newArray; } /** * @param {Object} json å¯¹urlå‚æ•°è¿›è¡Œç¼–ç  * @returns {Array} */ export function param(json) { if (!json) return \"\"; return cleanArray( Object.keys(json).map(key =&gt; { if (json[key] === undefined) return \"\"; return encodeURIComponent(`${key}=${json[key]}`); }) ).join(\"&amp;\"); } /** * @param {string} url è§£æè·å–urlå‚æ•° * @returns {Object} */ export function param2Obj(url) { url = url || location.href; const search = url.split(\"?\")[1]; if (!search) { return {}; } return JSON.parse( '{\"' + decodeURIComponent(search) .replace(/\"/g, '\\\\\"') .replace(/&amp;/g, '\",\"') .replace(/=/g, '\":\"') .replace(/\\+/g, \" \") + '\"}' ); } ä½¿ç”¨ä¸Šä¼ å€¼å°±ç›´æ¥æ›¿ä»£ $router.push ä¸­çš„ query, è·å–åˆ™ä½¿ç”¨ param2Obj æ›¿æ¢ $route.query å³å¯ // è·¯ç”±æŸ¥è¯¢è·³è½¬ $router.push({ path: `./check-result?${$param({ contract_no: record.contract_no, type: 'result', form: 'contract', state: record.contract_state, audit_note: record.audit_note, })}`, }) // æŸ¥è¯¢å‚æ•°è·å– const { contract_no, state, audit_note, form, type } = this.$param2Obj(); æœåŠ¡å™¨éƒ¨ç½² ç¬¬ä¸€æ¬¡éƒ¨ç½²æœåŠ¡å™¨éœ€è¦å…ˆåœ¨æœåŠ¡å™¨éªŒè¯ node ç¯å¢ƒæ˜¯å¦å¯ç”¨,å¦‚æœæ²¡æœ‰ node ç¯å¢ƒ, å¯ä»¥ä½¿ç”¨ yum å‘½ä»¤æ¥å®‰è£…, ä¸è¿‡è¿™ç§å½¢å¼ä¸€èˆ¬ç‰ˆæœ¬è¾ƒä½, æ‰€æœ‰å°½é‡ç›´æ¥ç”¨å‹ç¼©åŒ…çš„å½¢å¼è§£å‹tar -xvf node-v14.15.4-linux-x64.tarå®‰è£… è§£å‹ä¹‹å°† node/bin (è¿™é‡Œçš„ node æŒ‡è§£å‹ä¹‹åçš„æ–‡ä»¶å¤¹ç®€å†™) ä¸‹é¢çš„ node / npm ä¸¤ä¸ªå‘½ä»¤è®¾ç½®ä¸ºå…¨å±€å‘½ä»¤, å¯ä»¥é€šè¿‡ ln -s /opt/sxsmk_web/node/bin/node /usr/local/bin/node ln -s /opt/sxsmk_web/node/bin/npm /usr/local/bin/npm æ­¤æ—¶å¯ä»¥é€šè¿‡ node -v æ¥éªŒè¯æ˜¯å¦æˆåŠŸ, å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ etc/profile æ–‡ä»¶ä¸­å†™å…¥ç¯å¢ƒå˜é‡æ¥é…ç½® ç¯å¢ƒé…ç½®ä¹‹å, å°† Nuxt æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶ Nuxt.config.js / package.json / .nuxt / static ç­‰æ–‡ä»¶/æ–‡ä»¶å¤¹ ä¸Šä¼ è‡³æœåŠ¡å™¨å¹¶å®‰è£…ä¾èµ– åˆ©ç”¨ pm2 (node çš„è¿›ç¨‹ç®¡ç†å™¨) æ¥å¯åŠ¨é¡¹ç›®å³å¯, ä»¥ä¸‹ä¸º pm2 å¸¸ç”¨å‘½ä»¤ pm2 start npm --watch --name \"webssr\" -- run start // å¯åŠ¨å¹¶ç›‘æ§ä¸€ä¸ªè¿›ç¨‹ pm2 list // æŸ¥çœ‹å…¨éƒ¨è¿›ç¨‹ pm2 info 0 // æŸ¥çœ‹ä¸€ä¸ªè¿›ç¨‹çš„å…·ä½“ä¿¡æ¯ åé¢æ˜¯è¿›ç¨‹id pm2 stop/restart/reload/delete 0/all // åœæ­¢/å¼€å¯/é‡è½½/åˆ é™¤ æŸä¸ª/å…¨éƒ¨è¿›ç¨‹ pm2 logs [--raw] // æŸ¥çœ‹æ—¥å¿—","categories":[],"tags":[{"name":"vue","slug":"vue","permalink":"http://example.com/tags/vue/"}]},{"title":"ä¸šåŠ¡å¸¸ç”¨å·¥å…·å‡½æ•°æ•´ç†","slug":"ä¸šåŠ¡ä¸­å¥½ç”¨çš„å·¥å…·å‡½æ•°æ•´ç†","date":"2021-01-08T01:15:46.000Z","updated":"2021-02-22T09:17:34.146Z","comments":true,"path":"post/20333.html","link":"","permalink":"http://example.com/post/20333.html","excerpt":"","text":"æ€»ç»“è‡ªå·±ä¸€äº›æ—¥å¸¸ä½¿ç”¨çš„è¿‡çš„å·¥å…·å‡½æ•°, ç›®å‰åˆ†ä¸ºæ•°æ®å¤„ç†ç±», æ—¶é—´å¤„ç†ç±», å¯¹è±¡ç±», éªŒè¯å‡½æ•°ç±»å’Œæµè§ˆå™¨åŠŸèƒ½ç±»ç­‰, æŒç»­æ›´æ–°å¯¹è±¡ç±»/** * @param {Object} * @returns {JSON} */ const stringify = (() => { const replacer = (key, val) => { if(typeof val === 'symbol') { return val.toString(); } if(val instanceof Set) { return Array.from(val); } if(val instanceof Map) { return Array.from(val.entries()); } if(typeof val === 'function') { return val.toString(); } return val; } return (obj, spaces = 0) => JSON.stringify(obj, replacer, spaces) })(); /** * @param {Object|Array} ç”¨äºæ£€æµ‹å¯¹è±¡æˆ–æ•°ç»„æ˜¯å¦ä¸ºç©º * @returns {Boolean} */ export function isEmpty(x) { if(Array.isArray(x) || typeof x === 'string' || x instanceof String ) { return x.length === 0; } if(x instanceof Map || x instanceof Set) { return x.size === 0; } if(({}).toString.call(x) === '[object Object]') { return Object.keys(x).length === 0; } return false; } /** * @param {Object} ä¸€èˆ¬JSON.parse(JSON.stringify(obj))ä¸èƒ½æ»¡è¶³å°±ç”¨å¾—åˆ° * @returns {Object} */ export function deepClone(source) { if (!source && typeof source !== 'object') { throw new Error('error arguments', 'deepClone') } const targetObj = source.constructor === Array ? [] : {} Object.keys(source).forEach(keys => { if (source[keys] && typeof source[keys] === 'object') { targetObj[keys] = deepClone(source[keys]) } else { targetObj[keys] = source[keys] } }) return targetObj } /** * @param {Object} target * @param {(Object|Array)} ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯åŒ…å«å¤šä¸ªå¯¹è±¡çš„æ•°ç»„ * @returns {Object} */ export function objectMerge(target, source) { if (typeof target !== 'object') { target = {} } if (Array.isArray(source)) { return source.slice() } Object.keys(source).forEach(property => { const sourceProperty = source[property] if (typeof sourceProperty === 'object') { target[property] = objectMerge(target[property], sourceProperty) } else { target[property] = sourceProperty } }) return target } æ—¶é—´ç±»/** * Parse the time to string * @param {(Object|string|number)} time * @param {string} cFormat * @returns {string | null} */ export function parseTime(time, cFormat) { if (arguments.length === 0) { return null } const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}' let date if (typeof time === 'object') { date = time } else { if ((typeof time === 'string') && (/^[0-9]+$/.test(time))) { time = parseInt(time) } if ((typeof time === 'number') && (time.toString().length === 10)) { time = time * 1000 } date = new Date(time) } const formatObj = { y: date.getFullYear(), m: date.getMonth() + 1, d: date.getDate(), h: date.getHours(), i: date.getMinutes(), s: date.getSeconds(), a: date.getDay() } const time_str = format.replace(/{([ymdhisa])+}/g, (result, key) => { const value = formatObj[key] // Note: getDay() returns 0 on Sunday if (key === 'a') { return ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'][value ] } return value.toString().padStart(2, '0') }) return time_str } /** * @param {number} time * @param {string} option éœ€è¦ç»“åˆä¸Šé¢çš„å‡½æ•°ä¸€èµ·ä½¿ç”¨ * @returns {string} */ export function formatTime(time, option) { if (('' + time).length === 10) { time = parseInt(time) * 1000 } else { time = +time } const d = new Date(time) const now = Date.now() const diff = (now - d) / 1000 if (diff < 30) { return 'åˆšåˆš' } else if (diff < 3600) { // less 1 hour return Math.ceil(diff / 60) + 'åˆ†é’Ÿå‰' } else if (diff < 3600 * 24) { return Math.ceil(diff / 3600) + 'å°æ—¶å‰' } else if (diff < 3600 * 24 * 2) { return '1å¤©å‰' } if (option) { return parseTime(time, option) } else { return ( d.getMonth() + 1 + 'æœˆ' + d.getDate() + 'æ—¥' + d.getHours() + 'æ—¶' + d.getMinutes() + 'åˆ†' ) } } æ•°æ®ç±»/** * @param {Array|Object} list * @param {func} cb å›è°ƒå‡½æ•° */ export function forEach(list, callback) { const entries = Object.entries(list); let i = 0; const len = entries.length; for(;i < len; i++) { const res = callback(entries[i][1], entries[i][0], list); if(res === true) break; } } export const isOfType = (() => { // create a plain object with no prototype const type = Object.create(null); // check for null type type.null = x => x === null; // check for undefined type type.undefined = x => x === undefined; // check for nil type. Either null or undefined type.nil = x => type.null(x) || type.undefined(x); // check for strings and string literal type. e.g: 's', \"s\", `str`, new String() type.string = x => !type.nil(x) && (typeof x === 'string' || x instanceof String); // check for number or number literal type. e.g: 12, 30.5, new Number() type.number = x => !type.nil(x) && (// NaN & Infinity have typeof \"number\" and this excludes that (!isNaN(x) && isFinite(x) && typeof x === 'number' ) || x instanceof Number); // check for boolean or boolean literal type. e.g: true, false, new Boolean() type.boolean = x => !type.nil(x) && (typeof x === 'boolean' || x instanceof Boolean); // check for array type type.array = x => !type.nil(x) && Array.isArray(x); // check for object or object literal type. e.g: {}, new Object(), Object.create(null) type.object = x => ({}).toString.call(x) === '[object Object]'; // check for provided type instance type.type = (x, X) => !type.nil(x) && x instanceof X; // check for set type type.set = x => type.type(x, Set); // check for map type type.map = x => type.type(x, Map); // check for date type type.date = x => type.type(x, Date); return type; })(); /** * @returns {string} */ export function createUniqueString() { const timestamp = +new Date() + '' const randomNum = parseInt((1 + Math.random()) * 65536) + '' return (+(randomNum + timestamp)).toString(32) } /** * @param {string} url * @returns {Object} */ export function getQueryObject(url) { url = url == null ? window.location.href : url const search = url.substring(url.lastIndexOf('?') + 1) const obj = {} const reg = /([^?&=]+)=([^?&=]*)/g search.replace(reg, (rs, $1, $2) => { const name = decodeURIComponent($1) let val = decodeURIComponent($2) val = String(val) obj[name] = val return rs }) return obj } éªŒè¯ç±»/* * @param {String} èº«ä»½è¯å· * @returns {Boolean} */ export const certNoValidate = certNo => { if (certNo) { // åŠ æƒå› å­ const weight_factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]; // æ ¡éªŒç  const check_code = [\"1\", \"0\", \"X\", \"9\", \"8\", \"7\", \"6\", \"5\", \"4\", \"3\", \"2\"]; let code = certNo + \"\"; let last = certNo[17]; //æœ€åä¸€ä¸ª let seventeen = code.substring(0, 17); let arr = seventeen.split(\"\"); let len = arr.length; let num = 0; for (let i = 0; i < len; i++) { num = num + arr[i] * weight_factor[i]; } let resisue = num % 11; let last_no = check_code[resisue]; const newReg = /^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/; let format = newReg.test(certNo); if (last_no && format) { return true; } else { return false; } } else { return false; } }; /* * @param {String} åªé€‚åˆå›½å†…æ‰‹æœº, æµ·å¤–ç›®å‰æ²¡æ¥è§¦ * @returns {Boolean} */ export const mobileValidate = mobile => { const newReg = /^1(3|4|5|6|7|8|9)\\d{9}$/; if (newReg.test(mobile)) { return true; } else { return false; } }; /* * @param {String} è‡³å°‘6ä½çš„å­—æ¯æ•°å­—ç»„åˆ * @returns {Boolean} */ export const pwdValidate = pwd => { const reg = /(?=.*?[a-zA-Z])(?=.*?[0-9])[a-zA-Z0-9]{6,}$/; if (reg.test(pwd)) { return true; } else { return false; } }; æµè§ˆå™¨ç±»/* ç›¸è¾ƒäºaæ ‡ç­¾ç›´æ¥ä¸‹è½½å¯ä»¥é™„åŠ å‚æ•°, å¯ä»¥ç”¨äºæƒé™æ§åˆ¶ä¸­çš„è¯·æ±‚ä¸‹è½½ * @param {String} æ–‡ä»¶url * @param {Object} è¯·æ±‚å‚æ•° * @returns Null */ export function downloadFile(downLoadurl, params = {}, method = \"get\") { // params = { ...params, token: store.getters.token }; const downloadForm = document.createElement(\"form\"); try { if (downloadForm) { // downloadForm.action = 'http://192.168.1.108:9001' + downLoadurl downloadForm.action = downLoadurl; downloadForm.method = method; for (const key in params) { if (!params[key]) continue; const input = document.createElement(\"input\"); input.type = \"hidden\"; input.name = key; input.value = params[key]; downloadForm.appendChild(input); } // downloadForm.headers = { // token: store.getters.token // }; document.body.appendChild(downloadForm); downloadForm.submit(); } } catch (e) { console.log(e); } finally { document.body.removeChild(downloadForm); } } /** * Add class to element * @param {HTMLElement} elm * @param {string} cls */ export function addClass(ele, cls) { if (!hasClass(ele, cls)) ele.className += ' ' + cls } /** * Remove class from element * @param {HTMLElement} elm * @param {string} cls */ export function removeClass(ele, cls) { if (hasClass(ele, cls)) { const reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)') ele.className = ele.className.replace(reg, ' ') } } /** * @param {HTMLElement} elm * @param {string} cls * @returns {boolean} */ export function hasClass(ele, cls) { return !!ele.className.match(new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)')) } /** * @param {HTMLElement} element * @param {string} className */ export function toggleClass(element, className) { if (!element || !className) { return } let classString = element.className const nameIndex = classString.indexOf(className) if (nameIndex === -1) { classString += '' + className } else { classString = classString.substr(0, nameIndex) + classString.substr(nameIndex + className.length) } element.className = classString } /* base64è½¬file * @param {file} * @returns {base64} */ function dataURLtoFile(base64) { let arr = base64.split(\",\"), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n); while (n--) { u8arr[n] = bstr.charCodeAt(n); } return new File([u8arr], { type: mime }); } /* base64è½¬äºŒè¿›åˆ¶ * @param {String} â€œdata:image/png;base64,****â€,é€—å·ä¹‹å‰éƒ½æ˜¯ä¸€äº›è¯´æ˜æ€§çš„æ–‡å­—ï¼Œæˆ‘ä»¬åªéœ€è¦é€—å·ä¹‹åçš„å°±è¡Œäº† * @returns {blob} */ function dataToBlob(data, mime) { data = data.split(',')[1] data = window.atob(data) var ia = new Uint8Array(data.length) for (var i = 0; i < data.length; i++) { ia[i] = data.charCodeAt(i) } // canvas.toDataURL è¿”å›çš„é»˜è®¤æ ¼å¼å°±æ˜¯ image/png return new Blob([ia], { type: mime }) } /* å‹ç¼©å›¾ç‰‡ * @param {file} * @returns {base64} */ export function compressImg(file) { let src; let fileSize = parseFloat(parseInt(file[\"size\"]) / 1024 / 1024).toFixed(2); let read = new FileReader(); read.readAsDataURL(file); return new Promise(function(resolve, reject) { read.onload = function(e) { let img = new Image(); img.src = e.target.result; img.onload = function() { //é»˜è®¤æŒ‰æ¯”ä¾‹å‹ç¼© let w = this.width, h = this.height; //ç”Ÿæˆcanvas let canvas = document.createElement(\"canvas\"); let ctx = canvas.getContext(\"2d\"); let base64; // åˆ›å»ºå±æ€§èŠ‚ç‚¹ canvas.setAttribute(\"width\", w); canvas.setAttribute(\"height\", h); ctx.drawImage(this, 0, 0, w, h); if (fileSize < 1) { //å¦‚æœå›¾ç‰‡å°äºä¸€å…† é‚£ä¹ˆä¸æ‰§è¡Œå‹ç¼©æ“ä½œ base64 = canvas.toDataURL(file[\"type\"], 1); } else if (fileSize > 1 && fileSize < 2) { //å¦‚æœå›¾ç‰‡å¤§äº1Må¹¶ä¸”å°äº2M é‚£ä¹ˆå‹ç¼©0.5 base64 = canvas.toDataURL(file[\"type\"], 0.5); } else { //å¦‚æœå›¾ç‰‡è¶…è¿‡2m é‚£ä¹ˆå‹ç¼©0.2 base64 = canvas.toDataURL(file[\"type\"], 0.2); } // è¿™é‡Œè¿”å›çš„æ˜¯base64ç¼–ç  å¦‚æœæƒ³è¦æ–‡ä»¶æ ¼å¼è¿˜éœ€è¦å†æ¬¡è½¬æ¢ resolve(base64); }; }; }); } WIDGET = { CONFIG: { \"modules\": \"0124\", \"background\": 1, \"tmpColor\": \"FFFFFF\", \"tmpSize\": 16, \"cityColor\": \"FFFFFF\", \"citySize\": 16, \"aqiSize\": 16, \"weatherIconSize\": 24, \"alertIconSize\": 18, \"padding\": \"10px 10px 10px 10px\", \"shadow\": \"1\", \"language\": \"auto\", \"borderRadius\": 5, \"fixed\": \"false\", \"vertical\": \"middle\", \"horizontal\": \"center\", \"key\": \"B1Dc3JIvYg\" } }","categories":[],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://example.com/tags/JavaScript/"}]},{"title":"Hello World","slug":"hello-world","date":"2021-01-07T03:03:33.015Z","updated":"2021-01-07T03:28:22.540Z","comments":true,"path":"post/16107.html","link":"","permalink":"http://example.com/post/16107.html","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post$ hexo new \"My New Post\" More info: Writing Run server$ hexo server More info: Server Generate static files$ hexo generate More info: Generating Deploy to remote sites$ hexo deploy More info: Deployment WIDGET = { CONFIG: { \"modules\": \"0124\", \"background\": 1, \"tmpColor\": \"FFFFFF\", \"tmpSize\": 16, \"cityColor\": \"FFFFFF\", \"citySize\": 16, \"aqiSize\": 16, \"weatherIconSize\": 24, \"alertIconSize\": 18, \"padding\": \"10px 10px 10px 10px\", \"shadow\": \"1\", \"language\": \"auto\", \"borderRadius\": 5, \"fixed\": \"false\", \"vertical\": \"middle\", \"horizontal\": \"center\", \"key\": \"B1Dc3JIvYg\" } }","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"æ¶æ„è®¾è®¡å¸ˆ","slug":"æ¶æ„è®¾è®¡å¸ˆ","permalink":"http://example.com/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88/"},{"name":"vue","slug":"vue","permalink":"http://example.com/tags/vue/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://example.com/tags/JavaScript/"},{"name":"App","slug":"App","permalink":"http://example.com/tags/App/"}]}